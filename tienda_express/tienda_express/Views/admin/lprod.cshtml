@model IEnumerable<tienda_express.Models.producto>

@{
   // Layout = null;

    if (Session["r"] == null)
    {
        Response.Redirect("Index/sistema");
    }
   
   
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>listado de productos</title>

    <script type="text/javascript" src="/scripts/jquery.min.js"></script>
    <script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


</head>
<body>
<center><h3>Listado de productos</h3></center>
    <center>
        <p>
            @Html.ActionLink("Nuevo productos", "Nprod")|
            @Html.ActionLink("Volver al inicio", "Index_admin")|

        </p>
    </center>
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Foto</th>
                <th scope="col">Nombre</th>
                <th scope="col">Descripcion</th>
                <th scope="col">Fecha de creacion</th>
                <th scope="col">Precio</th>
                <th scope="col">Stock</th>
                <th scope="col">ID Categoria</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.id)
                </td>

                <td>
                    @*//@Html.DisplayFor(modelItem => item.foto)*@ 
                    <img src="@Url.Action("getimagen", "admin", new {id=item.id }) " width="120" height="120">

                </td> 

                <td>
                    @Html.DisplayFor(modelItem => item.nombre)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.descripcion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fecha_creacion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.precio)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.stock)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.cat_id)
                </td>
                <td>
                    @Html.ActionLink("Editar", "Editprod", new { id = item.id }) |
                    @Html.ActionLink("Eliminar", "Eprod", new { id = item.id })
                </td>
            </tr>
        }

    </table>
</body>
</html>
